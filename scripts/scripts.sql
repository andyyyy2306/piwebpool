-- MySQL dump 10.13  Distrib 5.5.44, for debian-linux-gnu (armv7l)
--
-- Host: localhost    Database: pool
-- ------------------------------------------------------
-- Server version	5.5.44-0+deb8u1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `scripts`
--

DROP TABLE IF EXISTS `scripts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `scripts` (
  `id` varchar(255) NOT NULL,
  `xml` text NOT NULL,
  `lua` text NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `scripts`
--

LOCK TABLES `scripts` WRITE;
/*!40000 ALTER TABLE `scripts` DISABLE KEYS */;
INSERT INTO `scripts` VALUES ('custom','&lt;xml xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;block type=\"variables_set\" id=\"oVsm?-f8jA=|zD*FPl~V\" x=\"258\" y=\"235\"&gt;&lt;field name=\"VAR\"&gt;info&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text\" id=\"NYB`Ws2,IzJ8%qXT6`o(\"&gt;&lt;field name=\"TEXT\"&gt;R.A.S.&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/xml&gt;','info = \'R.A.S.\';\n'),('footer','','    persistence.store(\"storage.lua\", memoire);\n    return info; \nend'),('header','','local write, writeIndent, writers, refCount;\n\npersistence =\n{\n	store = function (path, ...)\n		local file, e = io.open(path, \"w\");\n		if not file then\n			return error(e);\n		end\n		local n = select(\"#\", ...);\n		-- Count references\n		local objRefCount = {}; -- Stores reference that will be exported\n		for i = 1, n do\n			refCount(objRefCount, (select(i,...)));\n		end;\n		-- Export Objects with more than one ref and assign name\n		-- First, create empty tables for each\n		local objRefNames = {};\n		local objRefIdx = 0;\n		file:write(\"-- Persistent Data\\n\");\n		file:write(\"local multiRefObjects = {\\n\");\n		for obj, count in pairs(objRefCount) do\n			if count > 1 then\n				objRefIdx = objRefIdx + 1;\n				objRefNames[obj] = objRefIdx;\n				file:write(\"{};\"); -- table objRefIdx\n			end;\n		end;\n		file:write(\"\\n} -- multiRefObjects\\n\");\n		-- Then fill them (this requires all empty multiRefObjects to exist)\n		for obj, idx in pairs(objRefNames) do\n			for k, v in pairs(obj) do\n				file:write(\"multiRefObjects[\"..idx..\"][\");\n				write(file, k, 0, objRefNames);\n				file:write(\"] = \");\n				write(file, v, 0, objRefNames);\n				file:write(\";\\n\");\n			end;\n		end;\n		-- Create the remaining objects\n		for i = 1, n do\n			file:write(\"local \"..\"obj\"..i..\" = \");\n			write(file, (select(i,...)), 0, objRefNames);\n			file:write(\"\\n\");\n		end\n		-- Return them\n		if n > 0 then\n			file:write(\"return obj1\");\n			for i = 2, n do\n				file:write(\" ,obj\"..i);\n			end;\n			file:write(\"\\n\");\n		else\n			file:write(\"return\\n\");\n		end;\n		if type(path) == \"string\" then\n			file:close();\n		end;\n	end;\n\n	load = function (path)\n		local f, e;\n		if type(path) == \"string\" then\n			f, e = loadfile(path);\n		else\n			f, e = path:read(\'*a\')\n		end\n		if f then\n			return f();\n		else\n			return nil, e;\n		end;\n	end;\n}\n\n-- Private methods\n\n-- write thing (dispatcher)\nwrite = function (file, item, level, objRefNames)\n	writers[type(item)](file, item, level, objRefNames);\nend;\n\n-- write indent\nwriteIndent = function (file, level)\n	for i = 1, level do\n		file:write(\"\\t\");\n	end;\nend;\n\n-- recursively count references\nrefCount = function (objRefCount, item)\n	-- only count reference types (tables)\n	if type(item) == \"table\" then\n		-- Increase ref count\n		if objRefCount[item] then\n			objRefCount[item] = objRefCount[item] + 1;\n		else\n			objRefCount[item] = 1;\n			-- If first encounter, traverse\n			for k, v in pairs(item) do\n				refCount(objRefCount, k);\n				refCount(objRefCount, v);\n			end;\n		end;\n	end;\nend;\n\n-- Format items for the purpose of restoring\nwriters = {\n	[\"nil\"] = function (file, item)\n			file:write(\"nil\");\n		end;\n	[\"number\"] = function (file, item)\n			file:write(tostring(item));\n		end;\n	[\"string\"] = function (file, item)\n			file:write(string.format(\"%q\", item));\n		end;\n	[\"boolean\"] = function (file, item)\n			if item then\n				file:write(\"true\");\n			else\n				file:write(\"false\");\n			end\n		end;\n	[\"table\"] = function (file, item, level, objRefNames)\n			local refIdx = objRefNames[item];\n			if refIdx then\n				-- Table with multiple references\n				file:write(\"multiRefObjects[\"..refIdx..\"]\");\n			else\n				-- Single use table\n				file:write(\"{\\n\");\n				for k, v in pairs(item) do\n					writeIndent(file, level+1);\n					file:write(\"[\");\n					write(file, k, level+1, objRefNames);\n					file:write(\"] = \");\n					write(file, v, level+1, objRefNames);\n					file:write(\";\\n\");\n				end\n				writeIndent(file, level);\n				file:write(\"}\");\n			end;\n		end;\n	[\"function\"] = function (file, item)\n			-- Does only work for \"normal\" functions, not those\n			-- with upvalues or c functions\n			local dInfo = debug.getinfo(item, \"uS\");\n			if dInfo.nups > 0 then\n				file:write(\"nil --[[functions with upvalue not supported]]\");\n			elseif dInfo.what ~= \"Lua\" then\n				file:write(\"nil --[[non-lua function not supported]]\");\n			else\n				local r, s = pcall(string.dump,item);\n				if r then\n					file:write(string.format(\"loadstring(%q)\", s));\n				else\n					file:write(\"nil --[[function could not be dumped]]\");\n				end\n			end\n		end;\n	[\"thread\"] = function (file, item)\n			file:write(\"nil --[[thread]]\\n\");\n		end;\n	[\"userdata\"] = function (file, item)\n			file:write(\"nil --[[userdata]]\\n\");\n		end;\n}\n\nlocal parametre = {[\"void\"] = 0};\nmemoire = persistence.load(\"storage.lua\");\n\nfunction run()\n    info=\"OK\";'),('main','&lt;xml xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;block type=\"variables_set\" id=\"PbLJ-.;T2CDRCqj,|dB]\" x=\"107\" y=\"-773\"&gt;&lt;field name=\"VAR\"&gt;erreurLecture&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"jPTpB)pj-?F1:yhUB4y#\"&gt;&lt;field name=\"NUM\"&gt;-99&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"%2uSiy25?^`R{:VmPhR4\"&gt;&lt;field name=\"VAR\"&gt;info&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text_join\" id=\"?crd{,VWI]Ka{HeU)t_P\"&gt;&lt;mutation items=\"6\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"dynamicData\" id=\"uO9;u-`(vtG%[Qn/t[dC\"&gt;&lt;field name=\"select\"&gt;ph&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"text\" id=\"^}}b2WFE_5`sgN(L;)Uh\"&gt;&lt;field name=\"TEXT\"&gt;ph, &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"dynamicData\" id=\"rRC1Yg(JQqBSX2I`yn*L\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD3\"&gt;&lt;block type=\"text\" id=\"+J~*8d,#gv3PRhvx}G9q\"&gt;&lt;field name=\"TEXT\"&gt;mV, &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD4\"&gt;&lt;block type=\"dynamicData\" id=\"fNpY]+Wfcb:dK*MzB-hq\"&gt;&lt;field name=\"select\"&gt;temperature&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD5\"&gt;&lt;block type=\"text\" id=\"I7zD[r%5wd5l_M:rmRdu\"&gt;&lt;field name=\"TEXT\"&gt;&deg;C &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"W}@MYJ3^-e+T,6{s}d}x\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_operation\" id=\"o0WWs?]xB,@ZKzg.CZ1Q\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"xNOM`#)7-Qlya1)nZ_3{\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"getcommand\" id=\"P/A=W3V8QTW=r+e[Zi4m\"&gt;&lt;field name=\"command\"&gt;filtration&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"on_off\" id=\"w}TCWtfkv45lu(/af[Rh\"&gt;&lt;field name=\"command\"&gt;On&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_operation\" id=\"fIn140v!?IV[;cEuap%r\"&gt;&lt;field name=\"OP\"&gt;OR&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_operation\" id=\"1(L8rR;2!(d3eqgv+YjH\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"i)2rZosVZeeZ%nR8%5Xm\"&gt;&lt;field name=\"OP\"&gt;NEQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"D!LwB6}EZ.Y|9%S?,j%k\"&gt;&lt;field name=\"select\"&gt;ph&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"variables_get\" id=\"0Yyf+^fhQ9D[P(I+;=B^\"&gt;&lt;field name=\"VAR\"&gt;erreurLecture&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_operation\" id=\"CA`gw-9=XzVVPJ;`RVo1\"&gt;&lt;field name=\"OP\"&gt;OR&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"9,tc}`y7815TfnT/L=p*\"&gt;&lt;field name=\"OP\"&gt;LT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"*Tz+:solQ?bU7_35ZfH/\"&gt;&lt;field name=\"select\"&gt;ph&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"R`l3rZZ.cMSs!;vbZJ6P\"&gt;&lt;field name=\"NUM\"&gt;6&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_compare\" id=\"Njky7*#E])c?fDN[@SQw\"&gt;&lt;field name=\"OP\"&gt;GT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"MQJO-)NyYxx6!^DPLMWi\"&gt;&lt;field name=\"select\"&gt;ph&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"GIR4bHv,??k#f~@BqA0x\"&gt;&lt;field name=\"NUM\"&gt;8&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_operation\" id=\"(t)6*2jwl#=G9HX~T=n)\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"p^;1=wTP+LaS76xn~6@Y\"&gt;&lt;field name=\"OP\"&gt;NEQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"+NmWdu@K6jhve|q8|`FX\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"variables_get\" id=\"ldn^(N_PQ^,[/kIZU4N|\"&gt;&lt;field name=\"VAR\"&gt;erreurLecture&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_operation\" id=\"k|BDR.rc2aOHb,J?T7pW\"&gt;&lt;field name=\"OP\"&gt;OR&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"Ntv3D[`wdUH|{UYOP/l9\"&gt;&lt;field name=\"OP\"&gt;LT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"q_%KCY.RJ,{bE0yjA_0T\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"|@dQ1Kd[L!Au%rr*jV;L\"&gt;&lt;field name=\"NUM\"&gt;550&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_compare\" id=\"t~S[Uv4=UZTWgPjiWHpy\"&gt;&lt;field name=\"OP\"&gt;GT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"Cdi.I^w-dj*oiuOTn=EW\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\")=*MEqsSCj#_[qP,P1k2\"&gt;&lt;field name=\"NUM\"&gt;800&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"variables_set\" id=\"^Qy_[7CpDpO4:5WH6nG{\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text_join\" id=\"73*^5siQ@,S^RE()-7@N\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\":5u^D9~+I@`y)v(Bw_VG\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"dynamicData\" id=\"MIbX6;,(V4xo(ML?klK?\"&gt;&lt;field name=\"select\"&gt;timestamp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"text\" id=\"/+#U@(u+*Ue_Tb)F=(Si\"&gt;&lt;field name=\"TEXT\"&gt;: qualit&eacute; de l\'eau &agrave; surveiller! &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"oPY@}ZvPFYDpwPzhIIWu\"&gt;&lt;mutation else=\"1\"&gt;&lt;/mutation&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"sdgIpuN~]L8D+VoA^}(c\"&gt;&lt;field name=\"OP\"&gt;NEQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"UKCqEk;y`hO8qth)o`)P\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"variables_get\" id=\"mI6h[eIaiIT,EM*rJm!0\"&gt;&lt;field name=\"VAR\"&gt;erreurLecture&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"controls_if\" id=\"Rp=ftD@V1a)k{(OT#~ng\"&gt;&lt;mutation elseif=\"1\"&gt;&lt;/mutation&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_operation\" id=\"%!?xEo!L}_KH`w#Q*Ft)\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"}YLmPi^Vo]KE/qWGO;`k\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"getcommand\" id=\"vIN5A1~YoPv(y?xOmT:b\"&gt;&lt;field name=\"command\"&gt;traitement1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"on_off\" id=\"37H{{}sHUYs!xc(]qsW7\"&gt;&lt;field name=\"command\"&gt;On&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_operation\" id=\"/W|S%J1+P2Ti6e.k7]dB\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\".~l.Ap[:oS2w:!fi*h?.\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"getcommand\" id=\"{P[]5(cgH)9KyU2IFAA4\"&gt;&lt;field name=\"command\"&gt;filtration&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"on_off\" id=\"PctB(Jc5##~Po7g{KoXr\"&gt;&lt;field name=\"command\"&gt;On&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_compare\" id=\"blg`o_hemg.5=smvk!5O\"&gt;&lt;field name=\"OP\"&gt;GT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"2Q*2WoY3hlgmsai@gWlW\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"variables_get\" id=\"b,pFUBt.2J.C(2Ir2W3^\"&gt;&lt;field name=\"VAR\"&gt;ORPConsign&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"math_change\" id=\"Y(Xi@b~!Fa5YFQpfJi,#\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"traitement1\"]&lt;/field&gt;&lt;value name=\"DELTA\"&gt;&lt;block type=\"math_number\" id=\"nELovNpAGdNqJi%QPhhV\"&gt;&lt;field name=\"NUM\"&gt;1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"MMNuNOQyYuI!:)0LI2rc\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"R)q:?57ieF|pNV~hOHl|\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"variables_get\" id=\"qBvKjrHc?E=cjWqX8@Z{\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"traitement1\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"u}Ys%uS?cEZeqaQ|5G;z\"&gt;&lt;field name=\"NUM\"&gt;3&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"variables_set\" id=\"o%!{Shy,2+DFdED_w]0z\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"traitement1\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"VxMF.;Inu1GWhROH;MT}\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"g#IS!@l^j5oz225;o[da\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text_join\" id=\"41aN_*cBr|~mj_Di%Zx-\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\":O:wE%m%;3y:rXR2FFU@\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"dynamicData\" id=\"Q(9ow_jPu5Jo3Jwd;kGB\"&gt;&lt;field name=\"select\"&gt;timestamp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"text\" id=\":[Ny:_sY[Ldz}QHf1Gk+\"&gt;&lt;field name=\"TEXT\"&gt;: S&eacute;curit&eacute; sur-traitement.&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"setcommand\" id=\"O^Umu+%9LfRhweZ|hN!]\"&gt;&lt;field name=\"command\"&gt;traitement1&lt;/field&gt;&lt;value name=\"NAME\"&gt;&lt;block type=\"on_off\" id=\"5ap[_wP#*1!S1:wL1K0e\"&gt;&lt;field name=\"command\"&gt;Off&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;value name=\"IF1\"&gt;&lt;block type=\"logic_operation\" id=\"x:/AzpTyq0b1ou6S2pGi\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"V+w9):IsG*WDKBAio4Vl\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"getcommand\" id=\"7sco2/W!Y%NgyBr{+M)T\"&gt;&lt;field name=\"command\"&gt;traitement1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"on_off\" id=\"`R;*rbkur2Y~BzuoXK]x\"&gt;&lt;field name=\"command\"&gt;Off&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_operation\" id=\"zfc3*@3g^2ejqYTn{]rg\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"cxOaM?gPC=J;`68ZK/mv\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"getcommand\" id=\"rNvCk(}{JYKfPN562=o!\"&gt;&lt;field name=\"command\"&gt;filtration&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"on_off\" id=\"3BN18XVe@Bs*emD^mOb)\"&gt;&lt;field name=\"command\"&gt;On&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_compare\" id=\"vJo6-9ylEBZ^O@N6A:Z*\"&gt;&lt;field name=\"OP\"&gt;LT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"w356Ya=1f/*](.UQxoH6\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"variables_get\" id=\";1Y)gg!jmo71.[b?yT6*\"&gt;&lt;field name=\"VAR\"&gt;ORPConsign&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO1\"&gt;&lt;block type=\"math_change\" id=\"3LvGu,UvLjdDA[hD:O?}\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"traitement1\"]&lt;/field&gt;&lt;value name=\"DELTA\"&gt;&lt;block type=\"math_number\" id=\"9i891^|sY@xv6oA~wO(n\"&gt;&lt;field name=\"NUM\"&gt;-1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"g~X264+{k8-D[2o-h0YE\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"(LtuW~MH~7b:+|bTpNRS\"&gt;&lt;field name=\"OP\"&gt;LTE&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"variables_get\" id=\"`HZ]{n6]^kF`Y,l3+J++\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"traitement1\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"H6UaWQXH!U]i/}3K[u-F\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"variables_set\" id=\"C?8Dy8%B/awT_c8kIRz!\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"traitement1\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"Vouq~`LB8VAdx*}hO=W[\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"V;[!kI^PNu9x-?!`c|`z\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text_join\" id=\"VGt+6#6P}{R.N=aPk4dm\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"[qbn_]P7AcLNW!iIT/|]\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"dynamicData\" id=\"UUK%x4^~Aa_u~)^}b;@D\"&gt;&lt;field name=\"select\"&gt;timestamp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"text\" id=\"v)Qbc|4?7n[Lc9rz6XhX\"&gt;&lt;field name=\"TEXT\"&gt;: Reprise traitement&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"setcommand\" id=\"BWE#E{_3[PYy%Q-^{UBk\"&gt;&lt;field name=\"command\"&gt;traitement1&lt;/field&gt;&lt;value name=\"NAME\"&gt;&lt;block type=\"on_off\" id=\"viFP%3-dH2YcTs~v(dbo\"&gt;&lt;field name=\"command\"&gt;On&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"r-*[kvDB(%g9tk2MtA1O\"&gt;&lt;field name=\"VAR\"&gt;json&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"weburl\" id=\"OJa{,ExE3Qn/_wW81~@e\"&gt;&lt;value name=\"url\"&gt;&lt;block type=\"text_join\" id=\"{,IU`[Q5Z,[#QR:@+|Gc\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"IsgpIafJkPeFh1JZ]hyc\"&gt;&lt;field name=\"VAR\"&gt;webURL&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"text\" id=\"=^).Bam^_jIOs?y}=e,V\"&gt;&lt;field name=\"TEXT\"&gt;&amp;amp;param=udevice&amp;amp;idx=29&amp;amp;nvalue=0&amp;amp;svalue=&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"dynamicData\" id=\"`Od,A3J[Fz[C|3PS#kz%\"&gt;&lt;field name=\"select\"&gt;orp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"statuskey\"&gt;&lt;block type=\"text\" id=\"o-DBg7U{jQbL4xIEv)`H\"&gt;&lt;field name=\"TEXT\"&gt;status&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;statement name=\"ELSE\"&gt;&lt;block type=\"math_change\" id=\"R[zav3.2j+,oB:K_*D}o\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"erreurLectureSonde\"]&lt;/field&gt;&lt;value name=\"DELTA\"&gt;&lt;block type=\"math_number\" id=\"a-8`x7/h0~)F~9%Uzopw\"&gt;&lt;field name=\"NUM\"&gt;1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"#{zeaGteVi.;E[/@nF;D\"&gt;&lt;mutation else=\"1\"&gt;&lt;/mutation&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"z1^{/H-{V=Yj-(|`c`MY\"&gt;&lt;field name=\"OP\"&gt;NEQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"{A*)dMGN!ga;tkD8KSZP\"&gt;&lt;field name=\"select\"&gt;temperature&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"variables_get\" id=\"L%H19Ht53MtZ?xeu]|bP\"&gt;&lt;field name=\"VAR\"&gt;erreurLecture&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"controls_if\" id=\"v-4oFlzCQ7zqJ%B@KN=l\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_operation\" id=\"nV.V8K`09G#/v.e@i]s~\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\"a~M%vBQ_R]kx}2EaHCRN\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"getcommand\" id=\"Ps9c9)naLdc]8EZL/q;G\"&gt;&lt;field name=\"command\"&gt;traitement1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"on_off\" id=\"k|K+Pi4/B8eXr#!-.a4U\"&gt;&lt;field name=\"command\"&gt;On&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_compare\" id=\"AQeTNB`E]9.)-5q2fiV0\"&gt;&lt;field name=\"OP\"&gt;LT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"NRvvRCJJ(`c3l(3Z30A]\"&gt;&lt;field name=\"select\"&gt;temperature&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"~G,;d+.ix_I?-Tl2-Z:W\"&gt;&lt;field name=\"NUM\"&gt;15&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"math_change\" id=\"uw3]y!^Vs:VJRiGHHrFu\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"temperature\"]&lt;/field&gt;&lt;value name=\"DELTA\"&gt;&lt;block type=\"math_number\" id=\"ERMLLSaquOgNg.-x#VVf\"&gt;&lt;field name=\"NUM\"&gt;1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"3MX3?I`v=RDR3RJ]`5^i\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"Z{7`FJ+_vFiZ/`q1k_Vl\"&gt;&lt;field name=\"OP\"&gt;GT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"variables_get\" id=\"|Qs_1Vv31gwNtM:45DsP\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"temperature\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"m@%;R:`mNrB9t*q%uWz!\"&gt;&lt;field name=\"NUM\"&gt;2&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"variables_set\" id=\"ll7*WBZW5N7v[2l({.w+\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"temperature\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"U)i;s(_s.p%ApI-=?vMd\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"E(0QEYkJ7Hy1CG5UmPA(\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text_join\" id=\"7=D+yF`:?WkvTl%ZcCM:\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"y[#[V?aJXyojFl+bN,yJ\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"dynamicData\" id=\"C{gb*j#F[Ypd?xVn6A;5\"&gt;&lt;field name=\"select\"&gt;timestamp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"text\" id=\"t2JxAV}5;quk^K~^G)d2\"&gt;&lt;field name=\"TEXT\"&gt;: S&eacute;curit&eacute; temp&eacute;rature traitement&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"setcommand\" id=\"Z;@qX;1`ej4Sjc^2r}dc\"&gt;&lt;field name=\"command\"&gt;traitement1&lt;/field&gt;&lt;value name=\"NAME\"&gt;&lt;block type=\"on_off\" id=\"1fOOL!sFWh8wfBsgpC{o\"&gt;&lt;field name=\"command\"&gt;Off&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"mjg}obV4qWmFOCr;_kyE\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_operation\" id=\"{c,b}JG9y)HuzV)K+):]\"&gt;&lt;field name=\"OP\"&gt;AND&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"logic_compare\" id=\")_iDemA4_OJt(sQ?Nf-+\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"getcommand\" id=\"}dhFHj)[=#{U`#r*h8F3\"&gt;&lt;field name=\"command\"&gt;filtration&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"on_off\" id=\"#@1e95s%teNgQI6g%Cq8\"&gt;&lt;field name=\"command\"&gt;Off&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"logic_compare\" id=\"q(38HPVzUGd/L9l#kG3]\"&gt;&lt;field name=\"OP\"&gt;LT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"t#rVDMw0Nnk)PlzAAb^#\"&gt;&lt;field name=\"select\"&gt;temperature&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\";eLCuig+S`t_U():q(n4\"&gt;&lt;field name=\"NUM\"&gt;3&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"math_change\" id=\"?Ud^?Eb[6vgP(vgA|P1a\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"gel\"]&lt;/field&gt;&lt;value name=\"DELTA\"&gt;&lt;block type=\"math_number\" id=\"B={-O/oWm0r(A7?aKVg7\"&gt;&lt;field name=\"NUM\"&gt;1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"A/n7%qmmtl0I}yiRan^U\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"0OJ7Xa_Cbqh{a#xV(72s\"&gt;&lt;field name=\"OP\"&gt;GT&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"variables_get\" id=\":}CNfja3(sS%+5.](l0-\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"gel\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"bgG;3d;dJ.w[3LFFA?zW\"&gt;&lt;field name=\"NUM\"&gt;1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"variables_set\" id=\"-c_=#Oiqem;[BUnyE3;c\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"gel\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\",g^Cw7qc+T0ZxZp^Ck1R\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"O5@~ylMh[d[69KyFSp~(\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text_join\" id=\"*iMvWDQ#pY_B0h1`;-lr\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"?=?(^6~B;!Dum!fr#EJ=\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"dynamicData\" id=\"p`jSZ*R1`RR=UQX_7ro9\"&gt;&lt;field name=\"select\"&gt;timestamp&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"text\" id=\"=/JbK,9YM^XnJ,DEwK5e\"&gt;&lt;field name=\"TEXT\"&gt;: risque de gel, filtration forc&eacute;e! &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"setcommand\" id=\"6@hUH[1_K3mOdGM-#)yv\"&gt;&lt;field name=\"command\"&gt;filtration&lt;/field&gt;&lt;value name=\"NAME\"&gt;&lt;block type=\"on_off\" id=\":M}3,Y6@aXEc@?ts%Hdc\"&gt;&lt;field name=\"command\"&gt;On&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"_Y1#qAcI!CTNQ[W1jbBM\"&gt;&lt;field name=\"VAR\"&gt;json&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"weburl\" id=\"Y#a|FHe8|rlAm#st*r?L\"&gt;&lt;value name=\"url\"&gt;&lt;block type=\"text_join\" id=\"AP[DhPmm9*P?1xrmw6[w\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"CxnU|`k)bc9X=sODpF6{\"&gt;&lt;field name=\"VAR\"&gt;webURL&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"text\" id=\"By-;hui*(|#++ugdP`jI\"&gt;&lt;field name=\"TEXT\"&gt;&amp;amp;param=udevice&amp;amp;idx=28&amp;amp;nvalue=0&amp;amp;svalue=&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"dynamicData\" id=\"(t=h@F@hf*=`_q6R=AdB\"&gt;&lt;field name=\"select\"&gt;temperature&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"statuskey\"&gt;&lt;block type=\"text\" id=\"{E0+J}?/[3fLHT6MxMcc\"&gt;&lt;field name=\"TEXT\"&gt;status&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;statement name=\"ELSE\"&gt;&lt;block type=\"math_change\" id=\"L!ex]pc]uJDwod};KgmC\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"erreurLectureSonde\"]&lt;/field&gt;&lt;value name=\"DELTA\"&gt;&lt;block type=\"math_number\" id=\"/`A64}+FbHyz_cFo6Ro8\"&gt;&lt;field name=\"NUM\"&gt;1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"3=5[{V_e2Pd%p}/rZou{\"&gt;&lt;mutation else=\"1\"&gt;&lt;/mutation&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"Z^,pzItqaAQDE(R(tH1~\"&gt;&lt;field name=\"OP\"&gt;NEQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\"w6(ozhgKo6]ba9ryACAo\"&gt;&lt;field name=\"select\"&gt;ph&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"variables_get\" id=\"UN5qAWVX_Bzsjg0b?{;k\"&gt;&lt;field name=\"VAR\"&gt;erreurLecture&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"variables_set\" id=\"76m3i`]X^D-rI)#=p#HX\"&gt;&lt;field name=\"VAR\"&gt;json&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"weburl\" id=\"cVnOBP0u+1/c#TT=K~rz\"&gt;&lt;value name=\"url\"&gt;&lt;block type=\"text_join\" id=\"O:X3;7lRBLQqntnaI{{%\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"UkR1jY1RvDg@#CICw8Ou\"&gt;&lt;field name=\"VAR\"&gt;webURL&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"text\" id=\"96K/W!h=JD7uxA6=u?jM\"&gt;&lt;field name=\"TEXT\"&gt;&amp;amp;param=udevice&amp;amp;idx=27&amp;amp;nvalue=0&amp;amp;svalue=&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"dynamicData\" id=\"|F{mgAOd[W5kqxfQ#Z-x\"&gt;&lt;field name=\"select\"&gt;ph&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"statuskey\"&gt;&lt;block type=\"text\" id=\"m+F#x+e#3LgVBed;PLro\"&gt;&lt;field name=\"TEXT\"&gt;status&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/statement&gt;&lt;statement name=\"ELSE\"&gt;&lt;block type=\"math_change\" id=\"zLMhj:.LX@ExI:Aog;An\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"erreurLectureSonde\"]&lt;/field&gt;&lt;value name=\"DELTA\"&gt;&lt;block type=\"math_number\" id=\"0lQLipYkr^_/`=7a4xhG\"&gt;&lt;field name=\"NUM\"&gt;1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"|6cNZTg*2T*+L#2%UYn6\"&gt;&lt;field name=\"VAR\"&gt;json&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"weburl\" id=\"cc_Bp/yJ=;|v6zM~#~U{\"&gt;&lt;value name=\"url\"&gt;&lt;block type=\"text_join\" id=\"X){6fltQ|(ld*[*/6~bK\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"=P#HDzVhCXZlXIIk*vpA\"&gt;&lt;field name=\"VAR\"&gt;webURL&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"text\" id=\"/[8e)9q25M%*N+gp9N^q\"&gt;&lt;field name=\"TEXT\"&gt;&amp;amp;param=switchlight&amp;amp;idx=30&amp;amp;switchcmd=&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"getcommand\" id=\"k77Nc*q7P:9%0aq}A?Jx\"&gt;&lt;field name=\"command\"&gt;filtration&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"statuskey\"&gt;&lt;block type=\"text\" id=\"f(rDxsu`z*[/ik,V6.id\"&gt;&lt;field name=\"TEXT\"&gt;status&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"_:akWyeg@RE9[`~P=A#v\"&gt;&lt;field name=\"VAR\"&gt;json&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"weburl\" id=\"prJ1=;G|@21z6n0,w}9i\"&gt;&lt;value name=\"url\"&gt;&lt;block type=\"text_join\" id=\"{bxu].s97Sgwg?{C7)j#\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"IgCM:ixf*/.hak-y{j[s\"&gt;&lt;field name=\"VAR\"&gt;webURL&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"text\" id=\"sKI-BMlUzk5aF{;WJ7y7\"&gt;&lt;field name=\"TEXT\"&gt;&amp;amp;param=switchlight&amp;amp;idx=31&amp;amp;switchcmd=&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"getcommand\" id=\")QTC](Rk;Z0wXI5{zBNZ\"&gt;&lt;field name=\"command\"&gt;traitement1&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"statuskey\"&gt;&lt;block type=\"text\" id=\"cTqo~O;TuV|YStP;b`A%\"&gt;&lt;field name=\"TEXT\"&gt;status&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"S14mZi4.+Brj4YTvJPZY\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"y-LpeN-vLv0,|1`YFXG:\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"variables_get\" id=\"Jp#R3!(pxp:F;((PRsJZ\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"erreurLectureSonde\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"9%d@9fT!G)X--h2ujJ2t\"&gt;&lt;field name=\"NUM\"&gt;3&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"variables_set\" id=\"Kb`GgrklVPBzCI.i|/SH\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text_join\" id=\";]V}`0;Sl2.Nypr%:;9m\"&gt;&lt;mutation items=\"2\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"variables_get\" id=\"i3B__`G#7NiVB436TOwt\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"text\" id=\"!?||uFEX*~Z=vzr5kCsU\"&gt;&lt;field name=\"TEXT\"&gt; Sondes &agrave; v&eacute;rifier, erreur de lecture &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"CHd7w2)ghWi[A=L,4ox-\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"erreurLectureSonde\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"[.YWB(uWJDvq/q/2(|:R\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;next&gt;&lt;block type=\"controls_if\" id=\"cCvaH/{o7KC^{qnoi)l]\"&gt;&lt;value name=\"IF0\"&gt;&lt;block type=\"logic_compare\" id=\"Db*r{ISF{)IMVg}8|wpC\"&gt;&lt;field name=\"OP\"&gt;EQ&lt;/field&gt;&lt;value name=\"A\"&gt;&lt;block type=\"dynamicData\" id=\",!W*o0u.bTIQErJjY;{R\"&gt;&lt;field name=\"select\"&gt;hour&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"B\"&gt;&lt;block type=\"math_number\" id=\"(Yd`=H?r)(s-Gve=kp*X\"&gt;&lt;field name=\"NUM\"&gt;20&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;statement name=\"DO0\"&gt;&lt;block type=\"message\" id=\"e+rt-NA^%Jij,zBWcsaW\"&gt;&lt;field name=\"command\"&gt;email&lt;/field&gt;&lt;value name=\"message\"&gt;&lt;block type=\"text_join\" id=\"*pF^/|;k][?m;M_w|**_\"&gt;&lt;mutation items=\"3\"&gt;&lt;/mutation&gt;&lt;value name=\"ADD0\"&gt;&lt;block type=\"text\" id=\"NYB`Ws2,IzJ8%qXT6`o(\"&gt;&lt;field name=\"TEXT\"&gt;Rapport journalier=&amp;gt; &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD1\"&gt;&lt;block type=\"variables_get\" id=\"n)H3V*BLJ!^UnXW]vhJz\"&gt;&lt;field name=\"VAR\"&gt;info&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"ADD2\"&gt;&lt;block type=\"variables_get\" id=\"5TbE3E|SwF2=g[[=N2Y:\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/value&gt;&lt;value name=\"destination\"&gt;&lt;block type=\"variables_get\" id=\"+{+j9!/=^4y{W-VKJu!b\"&gt;&lt;field name=\"VAR\"&gt;e_mail&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"V6g4@;q*pdI:`tw({0F6\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"warning\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"text\" id=\"jN~[3uxSh;Ge@l;4cA!o\"&gt;&lt;field name=\"TEXT\"&gt; &lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"aG{FxQP)1LDp4DkkixQ:\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"gel\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"(|8lxnqYE`TPO~Zn[(L^\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"m,.5Xn[on;2PU8SwwOZ}\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"temperature\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"]dFI1iBtM57vx2ToWvVz\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;next&gt;&lt;block type=\"variables_set\" id=\"m?hc*6_Ovh9O7VPlar~C\"&gt;&lt;field name=\"VAR\"&gt;memoire[\"traitement1\"]&lt;/field&gt;&lt;value name=\"VALUE\"&gt;&lt;block type=\"math_number\" id=\"CpU#sbA%uF[5QqK0IOS9\"&gt;&lt;field name=\"NUM\"&gt;0&lt;/field&gt;&lt;/block&gt;&lt;/value&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/statement&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/next&gt;&lt;/block&gt;&lt;/xml&gt;','erreurLecture = -99;\ninfo = table.concat({ph, \'ph, \', orp, \'mV, \', temperature, \'&deg;C \'});\nif (get(filtration)) == (\'On\') and ((ph) ~= (erreurLecture) and ((ph) &lt; 6 or (ph) &gt; 8) or (orp) ~= (erreurLecture) and ((orp) &lt; 550 or (orp) &gt; 800)) then\n  memoire[\'warning\'] = table.concat({memoire[\'warning\'], timestamp, \': qualit&eacute; de l\\\'eau &agrave; surveiller! \'});\nend\nif (orp) ~= (erreurLecture) then\n  if (get(traitement1)) == (\'On\') and ((get(filtration)) == (\'On\') and (orp) &gt; (ORPConsign)) then\n    memoire[\'traitement1\'] = memoire[\'traitement1\'] + 1\n    if (memoire[\'traitement1\']) == 3 then\n      memoire[\'traitement1\'] = 0;\n      memoire[\'warning\'] = table.concat({memoire[\'warning\'], timestamp, \': S&eacute;curit&eacute; sur-traitement.\'});\n      set(traitement1,\'Off\');\n    end\n   elseif (get(traitement1)) == (\'Off\') and ((get(filtration)) == (\'On\') and (orp) &lt; (ORPConsign)) then\n    memoire[\'traitement1\'] = memoire[\'traitement1\'] + -1\n    if (memoire[\'traitement1\']) &lt;= 0 then\n      memoire[\'traitement1\'] = 0;\n      memoire[\'warning\'] = table.concat({memoire[\'warning\'], timestamp, \': Reprise traitement\'});\n      set(traitement1,\'On\');\n    end\n  end\n  json = web((table.concat({webURL, \'&amp;param=udevice&amp;idx=29&amp;nvalue=0&amp;svalue=\', orp})),\'status\');\n else\n  memoire[\'erreurLectureSonde\'] = memoire[\'erreurLectureSonde\'] + 1\nend\nif (temperature) ~= (erreurLecture) then\n  if (get(traitement1)) == (\'On\') and (temperature) &lt; 15 then\n    memoire[\'temperature\'] = memoire[\'temperature\'] + 1\n    if (memoire[\'temperature\']) &gt; 2 then\n      memoire[\'temperature\'] = 0;\n      memoire[\'warning\'] = table.concat({memoire[\'warning\'], timestamp, \': S&eacute;curit&eacute; temp&eacute;rature traitement\'});\n      set(traitement1,\'Off\');\n    end\n  end\n  if (get(filtration)) == (\'Off\') and (temperature) &lt; 3 then\n    memoire[\'gel\'] = memoire[\'gel\'] + 1\n    if (memoire[\'gel\']) &gt; 1 then\n      memoire[\'gel\'] = 0;\n      memoire[\'warning\'] = table.concat({memoire[\'warning\'], timestamp, \': risque de gel, filtration forc&eacute;e! \'});\n      set(filtration,\'On\');\n    end\n  end\n  json = web((table.concat({webURL, \'&amp;param=udevice&amp;idx=28&amp;nvalue=0&amp;svalue=\', temperature})),\'status\');\n else\n  memoire[\'erreurLectureSonde\'] = memoire[\'erreurLectureSonde\'] + 1\nend\nif (ph) ~= (erreurLecture) then\n  json = web((table.concat({webURL, \'&amp;param=udevice&amp;idx=27&amp;nvalue=0&amp;svalue=\', ph})),\'status\');\n else\n  memoire[\'erreurLectureSonde\'] = memoire[\'erreurLectureSonde\'] + 1\nend\njson = web((table.concat({webURL, \'&amp;param=switchlight&amp;idx=30&amp;switchcmd=\', get(filtration)})),\'status\');\njson = web((table.concat({webURL, \'&amp;param=switchlight&amp;idx=31&amp;switchcmd=\', get(traitement1)})),\'status\');\nif (memoire[\'erreurLectureSonde\']) == 3 then\n  memoire[\'warning\'] = (memoire[\'warning\']) .. \' Sondes &agrave; v&eacute;rifier, erreur de lecture \';\n  memoire[\'erreurLectureSonde\'] = 0;\nend\nif (hour) == 20 then\n  email((table.concat({\'Rapport journalier=&gt; \', info, memoire[\'warning\']})),(e_mail));\n  memoire[\'warning\'] = \' \';\n  memoire[\'gel\'] = 0;\n  memoire[\'temperature\'] = 0;\n  memoire[\'traitement1\'] = 0;\nend\n');
/*!40000 ALTER TABLE `scripts` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2016-08-18 10:54:38
